function y(){const t=window.location.hash;if(t){const n=document.getElementById(t.substring(1));n&&n.tagName==="DETAILS"&&(n.open=!0,setTimeout(()=>{n.scrollIntoView({behavior:"smooth",block:"center"}),n.classList.add("target-pulse"),setTimeout(()=>n.classList.remove("target-pulse"),600)},100))}}document.addEventListener("DOMContentLoaded",y);window.addEventListener("hashchange",y);(function(t,n){var c,a,r,p;n.__SV||(window.posthog=n,n._i=[],n.init=function(f,d,u){function g(s,o){var i=o.split(".");i.length==2&&(s=s[i[0]],o=i[1]),s[o]=function(){s.push([o].concat(Array.prototype.slice.call(arguments,0)))}}(r=t.createElement("script")).type="text/javascript",r.crossOrigin="anonymous",r.async=!0,r.src=d.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(p=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,p);var e=n;for(u!==void 0?e=n[u]=[]:u="posthog",e.people=e.people||[],e.toString=function(s){var o="posthog";return u!=="posthog"&&(o+="."+u),s||(o+=" (stub)"),o},e.people.toString=function(){return e.toString(1)+".people (stub)"},c="init capture track screen register identify setPersonProperties alias set_config opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing is_capturing clear_opt_in_out_capturing reset getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getGroups getSessionRecordingUrl getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey onFeatureFlags onSessionId".split(" "),a=0;a<c.length;a++)g(e,c[a]);n._i.push([f,d,u])},n.__SV=1)})(document,window.posthog||[]);posthog.init("phc_DNyizehsdnOR7Is4NAGQSUMRhe3gyYikAu6COpyFQAh",{api_host:"https://us.i.posthog.com",person_profiles:"identified_only"});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".sidebar-link"),n=document.querySelectorAll(".faq-section"),c=new IntersectionObserver(r=>{r.forEach(p=>{if(p.isIntersecting){const f=p.target.id;t.forEach(d=>{d.getAttribute("data-section")===f?d.classList.add("active"):d.classList.remove("active")})}})},{rootMargin:"-100px 0px -70% 0px",threshold:0});n.forEach(r=>{c.observe(r)}),t.forEach(r=>{r.addEventListener("click",p=>{p.preventDefault();const f=r.getAttribute("href").slice(1),d=document.getElementById(f);if(d){const g=d.offsetTop-120;window.scrollTo({top:g,behavior:"smooth"}),history.pushState(null,null,`#${f}`)}})});let a=0;document.addEventListener("keydown",r=>{if(r.target.closest(".faq-sidebar"))switch(r.key){case"ArrowDown":r.preventDefault(),a=Math.min(a+1,t.length-1),t[a].focus();break;case"ArrowUp":r.preventDefault(),a=Math.max(a-1,0),t[a].focus();break;case"Home":r.preventDefault(),a=0,t[a].focus();break;case"End":r.preventDefault(),a=t.length-1,t[a].focus();break}})});document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("faq-search"),n=document.getElementById("search-clear"),c=document.getElementById("search-results");if(!t||!n||!c)return;let a=[];function r(){const e=document.querySelectorAll(".faq-item");a=Array.from(e).map(s=>{const i=s.closest(".faq-section")?.querySelector(".section-title")?.textContent||"",l=s.querySelector("h3")?.textContent?.replace("#","").trim()||"",h=s.querySelector(".faq-answer")?.textContent||"";return{id:s.id,section:i,question:l,answer:h.substring(0,200),element:s}})}function p(e){if(!e.trim())return[];const s=[],o=e.toLowerCase();return a.forEach(i=>{let l=0;i.question.toLowerCase().includes(o)&&(l+=10),i.answer.toLowerCase().includes(o)&&(l+=5),i.section.toLowerCase().includes(o)&&(l+=3),l>0&&s.push({...i,score:l})}),s.sort((i,l)=>l.score-i.score).slice(0,8)}function f(e,s){if(!s.trim())return e;const o=new RegExp(`(${s})`,"gi");return e.replace(o,'<span class="search-highlight">$1</span>')}function d(e,s){if(e.length===0){c.innerHTML='<div class="no-results">No results found</div>';return}const o=e.map(i=>`
      <div class="search-result" data-target="${i.id}">
        <div class="result-section">${i.section}</div>
        <div class="result-question">${f(i.question,s)}</div>
        <div class="result-preview">${f(i.answer,s)}...</div>
      </div>
    `).join("");c.innerHTML=o}let u;const g=document.querySelector(".search-kbd");t.addEventListener("input",e=>{const s=e.target.value;s?(n.style.display="block",g.style.display="none"):(n.style.display="none",g.style.display="block"),clearTimeout(u),u=setTimeout(()=>{if(s.trim()){const o=p(s);d(o,s),c.style.display="block"}else c.style.display="none"},150)}),t.addEventListener("focus",()=>{t.value||(g.style.display="none")}),t.addEventListener("blur",()=>{t.value||setTimeout(()=>g.style.display="block",100)}),n.addEventListener("click",()=>{t.value="",n.style.display="none",g.style.display="none",c.style.display="none",t.focus()}),document.addEventListener("keydown",e=>{(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),t.focus(),t.select())}),c.addEventListener("click",e=>{const s=e.target.closest(".search-result");if(s){const o=s.dataset.target,i=document.getElementById(o);if(i){const l=i.closest("details");l&&!l.open&&(l.open=!0);const v=i.offsetTop-120;window.scrollTo({top:v,behavior:"smooth"}),c.style.display="none",t.value="",n.style.display="none",typeof window<"u"&&window.posthog&&window.posthog.capture("faq_search_result_clicked",{query:t.value,result_id:o})}}}),document.addEventListener("click",e=>{e.target.closest(".faq-search")||(c.style.display="none")}),t.addEventListener("keydown",e=>{e.key==="Escape"&&(c.style.display="none",t.blur())}),r()});
